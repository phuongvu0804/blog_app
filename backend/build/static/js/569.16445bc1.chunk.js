"use strict";(self.webpackChunka=self.webpackChunka||[]).push([[569],{9569:function(e,r,t){t.r(r),t.d(r,{default:function(){return M}});var a=t(4165),n=t(5861),s=t(9439),o=t(2791),i=t(9434),u=t(7689),c=t(5705),l=t(7554),d=t(9860),m=t(9658),p=t(8096),f=t(4294),h=t(3366),v=t(7462),g=t(3733),Z=t(4419),b=t(6934),x=t(1402),y=t(9201),w=t(184),S=(0,y.Z)((0,w.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),j=t(5878),k=t(1217);function _(e){return(0,k.Z)("MuiAvatar",e)}(0,j.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var R=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],N=(0,b.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,r){var t=e.ownerState;return[r.root,r[t.variant],t.colorDefault&&r.colorDefault]}})((function(e){var r=e.theme,t=e.ownerState;return(0,v.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:r.typography.fontFamily,fontSize:r.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===t.variant&&{borderRadius:(r.vars||r).shape.borderRadius},"square"===t.variant&&{borderRadius:0},t.colorDefault&&(0,v.Z)({color:(r.vars||r).palette.background.default},r.vars?{backgroundColor:r.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===r.palette.mode?r.palette.grey[400]:r.palette.grey[600]}))})),C=(0,b.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,r){return r.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),P=(0,b.ZP)(S,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,r){return r.fallback}})({width:"75%",height:"75%"});var q=o.forwardRef((function(e,r){var t=(0,x.Z)({props:e,name:"MuiAvatar"}),a=t.alt,n=t.children,i=t.className,u=t.component,c=void 0===u?"div":u,l=t.imgProps,d=t.sizes,m=t.src,p=t.srcSet,f=t.variant,b=void 0===f?"circular":f,y=(0,h.Z)(t,R),S=null,j=function(e){var r=e.crossOrigin,t=e.referrerPolicy,a=e.src,n=e.srcSet,i=o.useState(!1),u=(0,s.Z)(i,2),c=u[0],l=u[1];return o.useEffect((function(){if(a||n){l(!1);var e=!0,s=new Image;return s.onload=function(){e&&l("loaded")},s.onerror=function(){e&&l("error")},s.crossOrigin=r,s.referrerPolicy=t,s.src=a,n&&(s.srcset=n),function(){e=!1}}}),[r,t,a,n]),c}((0,v.Z)({},l,{src:m,srcSet:p})),k=m||p,q=k&&"error"!==j,z=(0,v.Z)({},t,{colorDefault:!q,component:c,variant:b}),A=function(e){var r=e.classes,t={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,Z.Z)(t,_,r)}(z);return S=q?(0,w.jsx)(C,(0,v.Z)({alt:a,srcSet:p,src:m,sizes:d,ownerState:z,className:A.img},l)):null!=n?n:k&&a?a[0]:(0,w.jsx)(P,{ownerState:z,className:A.fallback}),(0,w.jsx)(N,(0,v.Z)({as:c,ownerState:z,className:(0,g.Z)(A.root,i),ref:r},y,{children:S}))})),z=(t(9849),t(8993)),A=t(4858),D=t(9441),M=function(){var e,r=(0,i.I0)(),t=(0,u.s0)(),h=(0,i.v9)((function(e){return e.user})).loading,v=(0,o.useState)(null),g=(0,s.Z)(v,2),Z=g[0],b=g[1],x=(0,o.useState)({type:"info",content:null}),y=(0,s.Z)(x,2),S=y[0],j=y[1],k={name:"",username:"",password:"",description:"",image:""},_=(0,c.TA)({initialValues:k,validationSchema:A.J,onSubmit:function(){return(e=e||(0,n.Z)((0,a.Z)().mark((function e(){var n,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s in n=new FormData,k)"image"===s?n.append("image",N.image):n.append(s,N[s]);return e.prev=2,e.next=5,l.Z.signUp(n);case 5:j({type:"success",content:"You have signed up successfully"}),setTimeout((function(){r((0,z.cW)({username:N.username,password:N.password},t))}),1e3),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),j({type:"error",content:e.t0.response.data.error});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}}),R=_.handleSubmit,N=_.values,C=_.errors,P=_.touched,M=_.setFieldValue,B=_.handleChange,U=_.handleBlur;return(0,w.jsxs)("form",{method:"POST",className:"auth__form",onSubmit:R,encType:"multipart/form-data",children:[function(){if(S.content)return(0,w.jsx)(m.Z,{severity:S.type,className:"noti",sx:{fontSize:"1.6rem",marginBottom:"3rem"},children:S.content})}(),["username","name","password","description"].map((function(e,r){return(0,w.jsx)(D.Z,{inputName:e,values:N[e],errors:C[e],touched:P[e],handleBlur:U,handleChange:B},r)})),(0,w.jsxs)(p.Z,{className:"auth__input-group",children:[(0,w.jsxs)(f.Z,{variant:"text",component:"label",sx:{color:"var(--black)",textDecoration:"underline",textTransform:"none"},children:["Upload avatar",(0,w.jsx)("input",{hidden:!0,accept:"image/*",type:"file",name:"image",onChange:function(e){M("image",e.target.files[0]),b(URL.createObjectURL(e.target.files[0]))}})]}),(0,w.jsx)(q,{alt:"Remy Sharp",src:Z,sx:{margin:"1.2rem auto 0"}})]}),(0,w.jsx)(d.Z,{type:"submit",className:"auth__input-btn",variant:"contained",loading:h,children:"Submit"})]})}},9441:function(e,r,t){var a=t(8096),n=t(7941),s=t(7071),o=t(2791),i=t(184),u=function(e){var r=e.inputName,t=e.value,o=e.error,u=e.touched,c=e.handleBlur,l=e.handleChange;return(0,i.jsxs)(a.Z,{className:"auth__input-group",children:[(0,i.jsx)(n.Z,{label:"description"===r?"Bio":r.charAt(0).toUpperCase()+r.slice(1),variant:"standard",name:r,onBlur:c,touched:null===u||void 0===u?void 0:u.toString(),error:o&&u,type:"password"===r?"password":"text",value:t,onChange:l}),o&&u&&(0,i.jsx)(s.Z,{className:"auth__input-text",error:!0,children:o})]})};r.Z=(0,o.memo)(u)},4858:function(e,r,t){t.d(r,{J:function(){return n},k:function(){return s}});var a=t(6727),n=a.Ry().shape({name:a.Z_().min(3).required("Full name must be at least 3 characters"),username:a.Z_().min(3).required("Username must be at least 3 characters"),password:a.Z_().min(6).required("Password must be at least 6 characters"),description:a.Z_().min(10).max(200).required("Description must be at most 200 characters"),image:a.nK().required("Image is required").test("fileSize","Image is too large. Max size is 2MB.",(function(e){return!e||e.size<=2097152})).test("fileType","Unsupported file format",(function(e){return!e||["image/jpg","image/jpeg","image/png"].includes(e.type)}))}),s=a.Ry().shape({username:a.Z_().min(3).required("Username must be at least 3 characters"),password:a.Z_().min(6).required("Password must be at least 6 characters")})},9849:function(){}}]);
//# sourceMappingURL=569.16445bc1.chunk.js.map